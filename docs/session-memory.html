<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Session Memory · KintoHub Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Session Memory is a advanced form of shared memory which traditionally runs on Redis and MemcacheD type of workloads.  Sessions and shared memory are important use cases that a majority of applications require."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Session Memory · KintoHub Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://kintohub.com/index.html"/><meta property="og:description" content="Session Memory is a advanced form of shared memory which traditionally runs on Redis and MemcacheD type of workloads.  Sessions and shared memory are important use cases that a majority of applications require."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/kintohub-title-text.svg" alt="KintoHub Docs"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Concepts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Concepts</h3><ul><li class="navListItem"><a class="navItem" href="/docs/thinking-kinto">Thinking Kinto</a></li><li class="navListItem"><a class="navItem" href="/docs/calling-kintohub-apis">Calling KintoHub Apis</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/session-memory">Session Memory</a></li><li class="navListItem"><a class="navItem" href="/docs/sdk-less-framework">SDK-Less Framework</a></li><li class="navListItem"><a class="navItem" href="/docs/instant-deployments">Instant Deployments</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Docs</h3><ul><li class="navListItem"><a class="navItem" href="/docs/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/docker-examples">Dockerfile examples</a></li><li class="navListItem"><a class="navItem" href="/docs/apidoc">How to document your code to work with KintoHub</a></li><li class="navListItem"><a class="navItem" href="/docs/kintoblocks">KintoBlocks</a></li><li class="navListItem"><a class="navItem" href="/docs/token-session">Token and Session Management</a></li><li class="navListItem"><a class="navItem" href="/docs/repositories">Git Repositories</a></li><li class="navListItem"><a class="navItem" href="/docs/kintoapps">KintoApps</a></li><li class="navListItem"><a class="navItem" href="/docs/workspaces">Workspaces</a></li><li class="navListItem"><a class="navItem" href="/docs/languages">Languages</a></li><li class="navListItem"><a class="navItem" href="/docs/release-notes">Release Notes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Dependencies</h3><ul><li class="navListItem"><a class="navItem" href="/docs/custom-params">Custom Parameters</a></li><li class="navListItem"><a class="navItem" href="/docs/environmental-parameters">Environmental Parameters</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Accounts and Billing</h3><ul><li class="navListItem"><a class="navItem" href="/docs/accounts">Accounts</a></li><li class="navListItem"><a class="navItem" href="/docs/billing">Billing</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Behind The Scenes</h3><ul><li class="navListItem"><a class="navItem" href="/docs/behind-the-scenes">Behind the Scenes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Common Questions</h3><ul><li class="navListItem"><a class="navItem" href="/docs/answers">Answers</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/kintohub/kintohub-docs/edit/master/docs/session-memory.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Session Memory</h1></header><article><div><span><p>Session Memory is a advanced form of shared memory which traditionally runs on Redis and MemcacheD type of workloads.  Sessions and shared memory are important use cases that a majority of applications require.</p>
<h2><a class="anchor" aria-hidden="true" id="use-case"></a><a href="#use-case" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use Case</h2>
<p>As a developer, I wish to create a secure page where specified users may access.</p>
<p>To fulfill this use case, we need to know who is calling the specific page and what sort of access they have. IE: User-Id and Permissions.</p>
<h2><a class="anchor" aria-hidden="true" id="development-history"></a><a href="#development-history" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Development History</h2>
<p>Originally, we attempted to use dynamic Json Web Tokens (JWT) which are modified and sent back to the client whenever a change is made.  This unfortunately ran into user stories that could not be fulfilled effeciently due to race conditions of generating JWT's across multiple stateless services that are being called asynchronously and updating shared session information in parallel.  This edge case would accidently override session data due to two refresh tokens having incorrect information at the same instance of time. We updated JWT tokens to act strictly as session tokens and created our own shared memory cluster.</p>
<h2><a class="anchor" aria-hidden="true" id="introducing-session-memory"></a><a href="#introducing-session-memory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introducing, Session Memory</h2>
<p>Session memory is information that you can <em>get</em> and <em>set</em> using headers.  On your API response, you can use <em>{kintoblockname}-user-id</em> as the response in order to set your data.  If any service within the application environment states within the apidocjs <em>@apiHeader (Session) {String} {kintoblockname}-user-id</em>, your API call will receive that information from the session memory.  This feature is heavily dependent on correct @apiDoc information for both getting and setting data, but allows microservices to share information amongst each other such as user id's and permissions!</p>
<h2><a class="anchor" aria-hidden="true" id="how-does-it-work"></a><a href="#how-does-it-work" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How does it work?</h2>
<p><img src="/docs/assets/client-session-memory-example.png" alt="Session memory example"></p>
<p>The above image shows how you can have two microservices work together.  One of the highest use cases of application sessions is the unique identifier.  In this case, we want to authorize to the login service, then get the chats for the authorized user.</p>
<ol>
<li>(Green) Call a Login Service. On the response, you will see the login block returns and sets the <code>userId</code> in memory</li>
<li>(Orange) Call Chat Service. During the lifetime of the call, KintoHub attaches the <code>userId</code> to the call prior to it reaching the Chat Service.</li>
</ol>
<p>This allows the chat service to use contextual information. The chat service nows about the unique application environment id and the user id to process information and return the correct data to the client.</p>
<h2><a class="anchor" aria-hidden="true" id="pricing"></a><a href="#pricing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pricing</h2>
<p>Pricing for session memory is free today, but an expensive resource.  We'll figure out a fair way to optimize the costs.</p>
<h2><a class="anchor" aria-hidden="true" id="limitations"></a><a href="#limitations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Limitations</h2>
<p>** This feature tightly couples dependencies together, but we are exploring ways to share data through pre-defined contracts upon setting up an application.
** Maximum size of the sum of all header responses must be below 8196K.</p>
<h2><a class="anchor" aria-hidden="true" id="what-about-shared-global-memory"></a><a href="#what-about-shared-global-memory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What about shared global memory?</h2>
<p>We're thinking about this and are writing a proposal on how it can be done in a similar header fashion.  Global shared memory allows an application to share information across stateless service, such as information that was grabbed from a database.  Additionally, we will be introducing traditional services such as managed redis services for the advanced use cases developers require.</p>
<h2><a class="anchor" aria-hidden="true" id="what-about-dynamic-memory"></a><a href="#what-about-dynamic-memory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What about dynamic memory?</h2>
<p>We have ideas around how to expose search requests for your memory so that key-value or dynamic &quot;contains&quot; searches may be performed. A proposal will be written in the near future.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/calling-kintohub-apis">← Calling KintoHub Apis</a><a class="docs-next button" href="/docs/sdk-less-framework">SDK-Less Framework →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#use-case">Use Case</a></li><li><a href="#development-history">Development History</a></li><li><a href="#introducing-session-memory">Introducing, Session Memory</a></li><li><a href="#how-does-it-work">How does it work?</a></li><li><a href="#pricing">Pricing</a></li><li><a href="#limitations">Limitations</a></li><li><a href="#what-about-shared-global-memory">What about shared global memory?</a></li><li><a href="#what-about-dynamic-memory">What about dynamic memory?</a></li></ul></nav></div><div class="footer-background"><div class="line"></div><div class="footerWrapper wrapper"><footer><div class="content"><div class="footer"><div class="left"><ul class="unstyled-list"></ul><h6 class="byline">Copyright © 2018 KintoHub. All rights reserved</h6></div><div class="right"><ul class="social-icons unstyled-list"><li class="social-icon"><a href="https://twitter.com/kintohub" target="_blank" rel="noopener noreferrer"><img src="/img/footer-socials-twitter.svg" alt=""/></a></li><li class="social-icon"><a href="https://github.com/kintohub" target="_blank" rel="noopener noreferrer"><img src="/img/footer-socials-github.svg" alt=""/></a></li><li class="social-icon"><a href="https://www.linkedin.com/company/13376177/" target="_blank" rel="noopener noreferrer"><img src="/img/footer-socials-linkedin.svg" alt=""/></a></li></ul><a href="/"><div class="footer-logo"><img src="/img/logo-grey-single-color.svg" alt=""/></div></a></div></div></div></footer></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: '92a5a28a80be03d1f473c1b4a6af6b33',
                indexName: 'kintohub',
                inputSelector: '#search_input_react'
              });
            </script></body></html>